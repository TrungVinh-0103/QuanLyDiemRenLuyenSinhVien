@{
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
    var tk = ViewBag.ThongKe;
    ViewData["Title"] = "Dashboard";
}
<link rel="stylesheet" href="~/css/Dashboard_admin.css" />
<div class="dashboard-container">
    <!-- Welcome Header -->
    <div class="welcome-header mb-4">
        <div class="row align-items-center">
            <div class="col-md-8">
                <h2 class="dashboard-title">
                    <i class="fas fa-tachometer-alt me-3"></i>
                    Dashboard Quản Trị
                </h2>
                <p class="dashboard-subtitle">Tổng quan hệ thống quản lý điểm rèn luyện</p>
            </div>
            <div class="col-md-4 text-end">
                <div class="current-time">
                    <i class="fas fa-clock me-2"></i>
                    <span id="currentDateTime"></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Statistics Cards -->
    <div class="row g-4 mb-5">
        <div class="col-xl-2 col-md-4 col-sm-6">
            <div class="stats-card stats-primary">
                <div class="stats-icon">
                    <i class="fas fa-user-graduate"></i>
                </div>
                <div class="stats-content">
                    <h3 class="stats-number">@tk.SoSinhVien</h3>
                    <p class="stats-label">Sinh viên</p>
                </div>
            </div>
        </div>

        <div class="col-xl-2 col-md-4 col-sm-6">
            <div class="stats-card stats-success">
                <div class="stats-icon">
                    <i class="fas fa-user-tie"></i>
                </div>
                <div class="stats-content">
                    <h3 class="stats-number">@tk.SoNhanVien</h3>
                    <p class="stats-label">Nhân viên</p>
                </div>
            </div>
        </div>

        <div class="col-xl-2 col-md-4 col-sm-6">
            <div class="stats-card stats-warning">
                <div class="stats-icon">
                    <i class="fas fa-chalkboard"></i>
                </div>
                <div class="stats-content">
                    <h3 class="stats-number">@tk.SoLop</h3>
                    <p class="stats-label">Lớp học</p>
                </div>
            </div>
        </div>

        <div class="col-xl-2 col-md-4 col-sm-6">
            <div class="stats-card stats-info">
                <div class="stats-icon">
                    <i class="fas fa-building"></i>
                </div>
                <div class="stats-content">
                    <h3 class="stats-number">@tk.SoKhoa</h3>
                    <p class="stats-label">Khoa</p>
                </div>
            </div>
        </div>

        <div class="col-xl-2 col-md-4 col-sm-6">
            <div class="stats-card stats-secondary">
                <div class="stats-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stats-content">
                    <h3 class="stats-number">@tk.SoNguoiDung</h3>
                    <p class="stats-label">Người dùng</p>
                </div>
            </div>
        </div>

        <div class="col-xl-2 col-md-4 col-sm-6">
            <div class="stats-card stats-danger">
                <div class="stats-icon">
                    <i class="fas fa-file-alt"></i>
                </div>
                <div class="stats-content">
                    <h3 class="stats-number">@tk.SoPhieu</h3>
                    <p class="stats-label">Phiếu đánh giá</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="row g-4 mb-5">
        <div class="col-md-6">
            <div class="quick-actions-card">
                <h4 class="card-title">
                    <i class="fas fa-bolt me-2"></i>
                    Thao tác nhanh
                </h4>
                <div class="quick-actions-grid">
                    <a href="/Admin/QuanLySinhVien" class="quick-action-item">
                        <i class="fas fa-user-graduate"></i>
                        <span>Quản lý sinh viên</span>
                    </a>
                    <a href="/Admin/QuanLyNhanVien" class="quick-action-item">
                        <i class="fas fa-user-tie"></i>
                        <span>Quản lý nhân viên</span>
                    </a>
                    <a href="/Admin/QuanLyPhieuDanhGia" class="quick-action-item">
                        <i class="fas fa-file-alt"></i>
                        <span>Phiếu đánh giá</span>
                    </a>
                    <a href="/Admin/QuanLyKetQuaRenLuyen" class="quick-action-item">
                        <i class="fas fa-trophy"></i>
                        <span>Kết quả rèn luyện</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>


@section Scripts {
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Update current time
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleString('vi-VN', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            document.getElementById('currentDateTime').textContent = timeString;
        }

        updateTime();
        setInterval(updateTime, 60000); // Update every minute

        // Animate numbers
        const numbers = document.querySelectorAll('.stats-number');
        numbers.forEach(number => {
            const target = parseInt(number.textContent);
            let current = 0;
            const increment = target / 50;
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                number.textContent = Math.floor(current);
            }, 30);
        });
    });
</script>
}